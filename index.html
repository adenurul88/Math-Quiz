<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Progress Target Hidup</title>

<link href="https://fonts.googleapis.com/css2?family=Daydream&family=Amanda&display=swap" rel="stylesheet">

<style>
:root{
  --pink:#f7c6d9;
  --tosca:#b2dfdb;
  --bg:#fff9f5;
  --text:#333;
}

body{
  font-family:'Amanda',sans-serif;
  background:var(--bg);
  color:var(--text);
  padding:20px;
}

h1{
  font-family:'Daydream',cursive;
  text-align:center;
  margin-bottom:30px;
}

.section{
  background:white;
  border-radius:15px;
  padding:20px;
  margin-bottom:25px;
  box-shadow:0 5px 10px rgba(0,0,0,0.08);
}

.section h2{
  margin-bottom:10px;
}

.progress-bar{
  background:#eee;
  border-radius:10px;
  overflow:hidden;
  height:20px;
  margin-bottom:10px;
}

.progress{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,var(--pink),var(--tosca));
  transition:0.3s;
}

ul{
  list-style:none;
  padding:0;
}

li{
  margin:6px 0;
}

label{
  cursor:pointer;
}
</style>
</head>

<body>

<h1>Progress Target Hidup</h1>

<!-- ================= BACA BUKU ================= -->
<div class="section">
<h2>ğŸ“š Baca Buku (âœ“ = 2 Bab)</h2>
<div class="progress-bar"><div class="progress" id="bookProgress"></div></div>
<p id="bookText"></p>
<ul id="books"></ul>
</div>

<!-- ================= PEMBERSIHAN ================= -->
<div class="section">
<h2>ğŸ§¹ Pembersihan Cicilan</h2>
<div class="progress-bar"><div class="progress" id="cleanProgress"></div></div>
<p id="cleanText"></p>
<ul id="cleaning"></ul>
</div>

<!-- ================= HAFALAN ================= -->
<div class="section">
<h2>ğŸ“ Hafalan Matematika</h2>
<div class="progress-bar"><div class="progress" id="mathProgress"></div></div>
<p id="mathText"></p>
<ul id="math"></ul>
</div>

<script>
// ================= DATA =================
const books = [
  ["Funiculi Funicula",4],
  ["Negeri 5 Menara",46],
  ["Rantau 1 Muara",46],
  ["Ramah 3 Warna",51],
  ["Sang Pemimpi",28],
  ["Ayah & Sirkus Pohon",20]
];

const cleaning = [
 "Tempat Cuci Piring","Kamar Mandi Belakang","Meja Dapur","Kamar Belakang",
 "Ruang Tengah","Kamar Tengah","Kamar Mandi Depan","Ruang Tamu",
 "Kamar Depan","Teras"
];

const math = [
"Kalkulus & Analisis Dasar","Limit (fungsi & barisan)","Kontinuitas",
"Turunan & integral","Konvergensi barisan & deret",
"Deret geometri & Taylor (bentuk umum)","Supremum & infimum",
"Cauchy sequence (dasar)","Aljabar Linear","Vektor & ruang vektor",
"Basis & dimensi","Transformasi linear","Matriks & determinan","Rank",
"Eigenvalue & eigenvector","Ortogonalitas, inner product","Aljabar Abstrak",
"Grup & subgrup","Grup siklik","Homomorfisme grup",
"Ring & field (definisi dasar)","Ideal (pengantar)","Matematika Diskrit",
"Logika proposisional","Himpunan & relasi","Fungsi (injektif, surjektif, bijektif)",
"Induksi matematika","Kombinatorika dasar","Kalkulus","Aturan turunan",
"Integral standar","Teorema Fundamental Kalkulus","Deret Taylor fungsi dasar",
"Integral parsial & substitusi","Aljabar Linear","Determinan (2Ã—2, 3Ã—3)",
"Invers matriks kecil","Persamaan karakteristik","Diagonalisasi (langkah umum)",
"Teorema dasar","Teorema Limit","Teorema Nilai Tengah","Rolle","Teorema Taylor",
"Rankâ€“Nullity","Teorema Isomorfisme Grup (awal)","Manipulasi aljabar",
"Substitusi & integrasi parsial","Menentukan konvergensi deret",
"Menyusun pembuktian sederhana","Menggunakan induksi","Pola pembuktian S1",
"Pembuktian langsung","Kontradiksi (dasar)","Induksi matematika",
"Fungsi kontinu tapi tidak terdiferensial","Barisan konvergen tapi tidak monoton",
"Grup abelian & non-abelian","Ruang vektor dengan basis takfungsi", "Relasi yang bukan fungsi"
];

// ================= STORAGE =================
const save = ()=>localStorage.setItem("progress",JSON.stringify(state));
const load = ()=>JSON.parse(localStorage.getItem("progress")) || {
 books:[],cleaning:[],math:[]
};
let state = load();

// ================= RENDER =================
function render(){
  renderBooks();
  renderList("cleaning",cleaning,"cleanProgress","cleanText",state.cleaning);
  renderList("math",math,"mathProgress","mathText",state.math);
  save();
}

// ================= BUKU =================
function renderBooks(){
  let ul=document.getElementById("books");
  ul.innerHTML="";
  let totalBab=books.reduce((a,b)=>a+b[1],0);
  let doneBab=state.books.length*2;

  books.forEach((b,i)=>{
    let li=document.createElement("li");
    let checked=state.books.includes(i)?"checked":"";
    li.innerHTML=`<label><input type="checkbox" ${checked}
      onchange="toggleBook(${i})"> ${b[0]} (âœ“ = 2 bab)</label>`;
    ul.appendChild(li);
  });

  let percent=Math.min(doneBab/totalBab*100,100);
  document.getElementById("bookProgress").style.width=percent+"%";
  document.getElementById("bookText").innerText=
    `${doneBab} / ${totalBab} bab (${percent.toFixed(1)}%)`;
}

function toggleBook(i){
  let idx=state.books.indexOf(i);
  idx>-1?state.books.splice(idx,1):state.books.push(i);
  render();
}

// ================= LIST UMUM =================
function renderList(id,data,bar,text,checked){
  let ul=document.getElementById(id);
  ul.innerHTML="";
  data.forEach((d,i)=>{
    let li=document.createElement("li");
    let c=checked.includes(i)?"checked":"";
    li.innerHTML=`<label><input type="checkbox" ${c}
      onchange="toggle('${id}',${i})"> ${d}</label>`;
    ul.appendChild(li);
  });
  let percent=checked.length/data.length*100;
  document.getElementById(bar).style.width=percent+"%";
  document.getElementById(text).innerText=
    `${checked.length} / ${data.length} (${percent.toFixed(1)}%)`;
}

function toggle(type,i){
  let arr=state[type];
  let idx=arr.indexOf(i);
  idx>-1?arr.splice(idx,1):arr.push(i);
  render();
}

render();
</script>

</body>
</html>